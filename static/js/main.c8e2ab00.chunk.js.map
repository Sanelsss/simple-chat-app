{"version":3,"sources":["firebase.js","components/SendMessage.js","components/SignOut.js","components/Chat.js","components/SignIn.js","App.js","index.js"],"names":["db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","SendMessage","scroll","useState","msg","setMsg","e","a","preventDefault","currentUser","uid","photoURL","collection","add","text","createdAt","FieldValue","serverTimestamp","current","scrollIntoView","behavior","onSubmit","className","Input","style","width","fontSize","fontWeight","marginLeft","marginBottom","placeholder","type","value","onChange","target","Button","margin","maxWidth","SignOut","console","log","ref","onSnapshot","snapshot","docs","forEach","doc","id","delete","window","location","reload","display","justifyContent","position","backgroundColor","top","borderBottom","zIndex","padding","borderRadius","marginTop","color","onClick","deleteMessage","signOut","Chat","useRef","messages","setMessages","useEffect","orderBy","limit","map","data","src","alt","SignIn","classes","makeStyles","theme","signButton","background","boxShadow","useStyles","provider","GoogleAuthProvider","signInWithPopup","App","useAuthState","user","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c8e2ab00.chunk.js","sourcesContent":["import firebase from 'firebase'\nimport 'firebase/firestore';\nconst firebaseApp = firebase.initializeApp({\n    apiKey: \"AIzaSyBoeEVWdKWKxTbjwuyLnLzZsg6fgD7yEeM\",\n    authDomain: \"firechat-5fa8c.firebaseapp.com\",\n    projectId: \"firechat-5fa8c\",\n    storageBucket: \"firechat-5fa8c.appspot.com\",\n    messagingSenderId: \"718769456429\",\n    appId: \"1:718769456429:web:81cfd623406dc9b122bfa4\",\n    measurementId: \"G-SSE99VCDYR\"})\n\nconst db = firebaseApp.firestore()\n\nconst auth = firebase.auth()\n\nexport { db, auth }","import React, { useState,useEffect,componentDidMount } from 'react'\nimport { db, auth } from '../firebase'\nimport firebase from 'firebase'\nimport { Input, Button } from '@material-ui/core'\n\nfunction SendMessage({ scroll }) {\n    const [msg, setMsg] = useState('')\n   /// const [oko, setOko] = useState(false)\n\n    async function sendMessage(e) {\n        e.preventDefault()\n        const { uid, photoURL } = auth.currentUser\n        if(msg!==''){\n        await db.collection('messages').add({\n            text: msg,\n            photoURL,\n            uid,\n            createdAt: firebase.firestore.FieldValue.serverTimestamp()\n        })\n    }\n        setMsg('')\n        scroll.current.scrollIntoView({ behavior: 'smooth' })\n    }\n\n    return (\n        <div> \n            <form onSubmit={sendMessage}>\n                <div className=\"sendMsg\">\n                    <Input style={{ width: '78%', fontSize: '15px', fontWeight: '550', marginLeft: '5px', marginBottom: '-3px' }} placeholder='Message...' type=\"text\" value={msg} onChange={e => setMsg(e.target.value)} />\n                    <Button style={{ width: '18%', fontSize: '15px', fontWeight: '550', margin: '4px 5% -13px 5%', maxWidth: '200px'}} type=\"submit\">Send</Button>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default SendMessage\n\n\n\n/*      async function deleteMessage (e) { \n         e.preventDefault() \n        let ref = db.collection('messages')\n     await   db.collection(\"messages\").onSnapshot(snapshot => {\n            snapshot.docs.forEach(doc => {\n                ref.doc(doc.id).delete()    \n            })\n        })\n\n\n\n                if(msg!==''){\n\n  } */","import React from 'react'\nimport { auth } from '../firebase.js'\nimport { Button } from '@material-ui/core'\nimport { db } from '../firebase'\n\n\nfunction SignOut() {\n\n    async function deleteMessage (e) { \n        e.preventDefault();\n        const { uid } = auth.currentUser\n          if(uid === auth.currentUser.uid){\n              console.log(uid);\n       let ref = db.collection('messages')\n       await  db.collection(\"messages\").onSnapshot(snapshot => {\n           snapshot.docs.forEach (doc => {\n               ref.doc(doc.id).delete() ;\n           }) \n       })\n       window.location.reload();   \n    }\n    }\n    return (\n        <div style={{\n            display: 'flex', justifyContent: 'center', position: 'relative',/* fixed */\n             width: '100%', backgroundColor: '#FAFAFA',\n             top: 0, borderBottom: 'solid 2px lightgray', zIndex: '10'\n        }}>\n\n<Button style={{ padding: '10px', fontSize: '15px', borderRadius: '20px',\n             backgroundColor: '#808080\t',\n              marginBottom: 5, marginTop: 5,  color:'#fff', \n            fontWeight: '600' }} onClick={(e)=>deleteMessage(e)}>Reset</Button>\n            <Button style={{ padding: '10px', fontSize: '15px', borderRadius: '20px',\n             backgroundColor: '#808080\t',marginLeft: 5,\n              marginBottom: 5, marginTop: 5,  color:'#fff', \n            fontWeight: '600' }} onClick={() => auth.signOut()}>Sign Out</Button>\n        </div>\n    )\n}\n\nexport default SignOut\n","import firebase from 'firebase'\nimport React, { useState, useEffect, useRef } from 'react'\nimport { db, auth } from '../firebase'\nimport SendMessage from './SendMessage'\nimport SignOut from './SignOut'\n\nfunction Chat() {\n    const scroll = useRef()\n    const [messages, setMessages] = useState([])\n    const [oko, setOko] = useState(false)\n\n    useEffect(() => {\n        db.collection('messages').orderBy('createdAt').limit(570).onSnapshot(snapshot => {\n            setMessages(snapshot.docs.map(doc => doc.data()))\n        })\n    }, [])\n    /* function deleteMessage (e) { \n        const { uid } = auth.currentUser\n        {messages.map(({  uid }) => (\n            if(uid === auth.currentUser.uid){\n                e.preventDefault();\n                let ref = db.collection('messages')\n               db.collection(\"messages\").onSnapshot(snapshot => {\n                    snapshot.docs.forEach (doc => {\n                        ref.doc(doc.id).delete()  ;  \n                    }) \n                })\n             }\n        ))}\n    window.location.reload();  \n\n    } */\n    return (\n        <div className=\"ss\">\n            <SignOut />\n{/* <button onClick={(e)=>deleteMessage(e)}>houston we did it</button>\n */}            <div className=\"msgs\">\n                {messages.map(({ id, text, photoURL, uid }) => (\n                    <div>\n                        <div key={id} className={`msg ${uid === auth.currentUser.uid ? 'sent' : 'received'}`}>\n                            <img src={photoURL} alt=\"\" />\n                            <p>{text}</p>\n                            <p>{uid}</p>\n                            <p>{id}</p>\n                        </div>\n                    </div>\n                ))}\n            </div>\n            <SendMessage scroll={scroll} />\n            <div ref={scroll}></div>\n        </div>\n    )\n}\n\nexport default Chat\n","import React from 'react'\nimport firebase from 'firebase'\nimport { auth } from '../firebase.js'\nimport { Button } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles';\nfunction SignIn() {\n    const useStyles = makeStyles((theme) => ({\n        signButton:{ \n           padding: 30 ,\n           fontSize: 20 ,\n           borderRadius: 20,\n           fontWeight: 600,\n           color:'#fff',\n           background: 'rgb(180, 20, 87)',\n           boxShadow: ' 0 0 40px rgb(164, 164, 164)',\n       }\n           }));\n           const classes = useStyles();\n    function signInWithGoogle() {\n        const provider = new firebase.auth.GoogleAuthProvider()\n        auth.signInWithPopup(provider)\n    }\n    return (\n        <div className=\"sign\">\n            <Button className={classes.signButton}  onClick={signInWithGoogle}>Sign In With Google</Button>\n        </div>\n    )\n}\n\nexport default SignIn\n\n","import './App.css';\nimport Chat from './components/Chat';\nimport SignIn from './components/SignIn';\nimport { auth } from './firebase.js'\nimport { useAuthState } from 'react-firebase-hooks/auth'\n\nfunction App() {\n  const [user] = useAuthState(auth)\n  return (\n    <>\n      {user ? <Chat /> : <SignIn />}\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}